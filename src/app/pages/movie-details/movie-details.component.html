<app-loader *ngIf="isLoading$ | async" />

<div
  *ngIf="!(isLoading$ | async) && !(error$ | async)"
  class="grid sm:grid-cols-2 grid-cols-1 gap-6 pt-4 px-6"
>
  <div class="artboard w-4/5 m-auto rounded-xl">
    <div class="indicator w-full">
      <span
        class="indicator-item indicator-end indicator-bottom indicator-position"
      >
        <div
          class="radial-progress radial-size bg-white text-[var(--color-main)] border-4 border-white"
          [style.--value]="rating"
        >
          {{ rating }}%
        </div>
      </span>
      <img
        class="h-full w-full object-cover rounded-xl"
        [src]="(movie$ | async)?.Poster"
        [alt]="(movie$ | async)?.imdbID"
      />
    </div>
  </div>
  <div>
    <h2 class="flex items-center text-3xl font-bold pb-3">
      {{ (movie$ | async)?.Title }}
      <span
        class="badge ms-2 bg-[var(--color-main)] text-[var(--color-primary)]"
      >
        {{ (movie$ | async)?.Year }}
      </span>
    </h2>
    <div class="font-semibold pb-4">
      Genre:
      <span
        *ngFor="let genre of genres; trackBy: trackByFn"
        class="badge bg-[var(--color-main)] text-[var(--color-primary)]"
      >
        {{ genre }}
      </span>
    </div>
    <div class="font-semibold pb-4">
      Rated:
      <span class="badge bg-[var(--color-main)] text-[var(--color-primary)]">
        {{ (movie$ | async)?.Rated }}
      </span>
    </div>
    <div class="font-semibold pb-4">
      Duration:
      <span class="badge bg-[var(--color-main)] text-[var(--color-primary)]">
        {{ (movie$ | async)?.Runtime }}
      </span>
    </div>
    <p class="text-lg pb-12">
      {{ (movie$ | async)?.Plot }}
    </p>
    <div class="grid grid-cols-3 gap-2 pb-12">
      <p class="font-semibold">Writer:</p>
      <p class="col-span-2">
        {{ (movie$ | async)?.Writer }}
      </p>
      <p class="font-semibold">Director:</p>
      <p class="col-span-2">
        {{ (movie$ | async)?.Director }}
      </p>
      <p class="font-semibold">Actors:</p>
      <p class="col-span-2">
        {{ (movie$ | async)?.Actors }}
      </p>
    </div>
  </div>
</div>
